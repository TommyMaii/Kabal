<!DOCTYPE html>

<html>

    <head>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="model.js"></script>
        <link rel="stylesheet" href="style.css">
        <title>Kabal</title>
    

    </head>

    <body>

        <div id="app">
            <!--Dekk Topp Venstre, Høyre 4 kort stacks på samme rad -->
            <!--Under er 7 rader med kort, økende fra venstre til høyre 1-7 kort stacks-->
            <!--Bare opperste kortet er visible -->
            <!--Logikk som fanner ut 3 kort -->
            <!--Sette opp bilder for kort -->
            <!--Kort logikk, angi ID -->
            <!--Sette opp win condition -->
            <!--Sette opp funksjoner som: Flytte på kort der det er valid,-->
            <!--Sette opp kort animasjoner, card flip, spre ut kort -->
            <!--28 cards outside and 24 cards in maindeck-->

            <div id="topRow">
            </div>
            <div id="bottomRow" class="Row"></div>


        </div>

        <script>
            //Model
           let count = 0;


            //View
            updateView();
            function updateView(){
                createTopColumnsHTML();
                createBottomColumnsHTML();
            }

            function createTopColumnsHTML(){
                let topRowHTML = document.getElementById("topRow");
                let length = cardStructure[0].row1.length;
                let tempString;
                for(i = 0; i < length; i++){
                    let cardSuit = cardStructure[0].row1[i].cardSuit;
                    let cardValue = cardStructure[0].row1[i].cardValue;
                    playedCards.push(cardValue + "_of_" + cardSuit);
                    tempString = `<div><div id="deckCard${i+1}"><img src="../images/${playedCards[i]}.png" width="135" height="225" onclick="swapCards(this)"></div></div>`
                    topRowHTML.innerHTML += tempString;
                }

                for(i = 0; i < 4; i++){
                    let cardSuit = cardStructure[1].row2[i].cardSuit;
                    let cardValue = cardStructure[1].row2[i].cardValue;
                    let blankCard = cardValue + "_of_" + cardSuit;
                    tempString = `<div><div id="S${i+1}"><img src="../images/${blankCard}.png" width="185" height="265" onclick="swapCards(this)"></div></div>`
                    topRowHTML.innerHTML += tempString;
                }

            }

            function createBottomColumnsHTML(){
                createPlayingRow1();
                createPlayingRow2();
                createPlayingRow3();
                createPlayingRow4();
                createPlayingRow5();
                createPlayingRow6();
                createPlayingRow7();
            }

            function createPlayingRow1(){
                let botRowHTML = document.getElementById("bottomRow");
                let length = cardStructure[2].row3.length;
                let id ='column1';
                let className = 1;
                document.getElementById("bottomRow").innerHTML += /*HTML*/ `<div class="Column" id="${id}"></div>`
                for(i = 0; i <length; i++){
                    if(!shown){
                        
                    }
                    let cardSuit = cardStructure[2].row3[i].cardSuit;
                    let cardValue = cardStructure[2].row3[i].cardValue;
                    playedCards.push(cardValue + "_of_" + cardSuit);
                    let tempString = `<div class="layer${className++}"><img src="../images/${playedCards[playedCards.length-1]}.png" width="135" height="225" onclick="swapCards(this)" id="${i}"></div>`                    
                    document.getElementById(id).innerHTML += tempString;
                
            }
            }
            function createPlayingRow2(){
                let botRowHTML = document.getElementById("bottomRow");
                let length = cardStructure[3].row4.length;
                let id ='column2';
                let className = 1;
                document.getElementById("bottomRow").innerHTML += /*HTML*/ `<div class="Column" id="${id}"></div>`
                for(i = 0; i < length; i++){
                    let cardSuit = cardStructure[3].row4[i].cardSuit;
                    let cardValue = cardStructure[3].row4[i].cardValue;
                    playedCards.push(cardValue + "_of_" + cardSuit);
                    let tempString = `<div class="layer${className++}"><img src="../images/${playedCards[playedCards.length-1]}.png" width="135" height="225" onclick="swapCards(this)" id="${i}"></div>`                    
                    document.getElementById(id).innerHTML += tempString;
                }
            }
            function createPlayingRow3(){
                let botRowHTML = document.getElementById("bottomRow");
                let length = cardStructure[4].row5.length;
                let id ='column3';
                let className = 1;
                document.getElementById("bottomRow").innerHTML += /*HTML*/ `<div class="Column" id="${id}"></div>`
                for(i = 0; i < length; i++){
                    let cardSuit = cardStructure[4].row5[i].cardSuit;
                    let cardValue = cardStructure[4].row5[i].cardValue;
                    playedCards.push(cardValue + "_of_" + cardSuit);
                    let tempString = `<div class="layer${className++}"><img src="../images/${playedCards[playedCards.length-1]}.png" width="135" height="225" onclick="swapCards(this)" id="${i}"></div>`                    
                    document.getElementById(id).innerHTML += tempString;
                }
            }
            function createPlayingRow4(){
                let botRowHTML = document.getElementById("bottomRow");
                let length = cardStructure[5].row6.length;
                let id ='column4';
                let className = 1;
                document.getElementById("bottomRow").innerHTML += /*HTML*/ `<div class="Column" id="${id}"></div>`
                for(i = 0; i < length; i++){
                    let cardSuit = cardStructure[5].row6[i].cardSuit;
                    let cardValue = cardStructure[5].row6[i].cardValue;
                    playedCards.push(cardValue + "_of_" + cardSuit);
                    let tempString = `<div class="layer${className++}"><img src="../images/${playedCards[playedCards.length-1]}.png" width="135" height="225" onclick="swapCards(this)" id="${i}"></div>`                    
                    document.getElementById(id).innerHTML += tempString;
                }
            }
            function createPlayingRow5(){
                let botRowHTML = document.getElementById("bottomRow");
                let length = cardStructure[6].row7.length;
                let id ='column5';
                let className = 1;
                document.getElementById("bottomRow").innerHTML += /*HTML*/ `<div class="Column" id="${id}"></div>`
                for(i = 0; i < length; i++){
                    let cardSuit = cardStructure[6].row7[i].cardSuit;
                    let cardValue = cardStructure[6].row7[i].cardValue;
                    playedCards.push(cardValue + "_of_" + cardSuit);
                    let tempString = `<div class="layer${className++}"><img src="../images/${playedCards[playedCards.length-1]}.png" width="135" height="225" onclick="swapCards(this)" id="${i}"></div>`                    
                    document.getElementById(id).innerHTML += tempString;
                }
            }
            function createPlayingRow6(){
                let botRowHTML = document.getElementById("bottomRow");
                let length = cardStructure[7].row8.length;
                let id ='column6';
                let className = 1;
                document.getElementById("bottomRow").innerHTML += /*HTML*/ `<div class="Column" id="${id}"></div>`
                for(i = 0; i < length; i++){
                    let cardSuit = cardStructure[7].row8[i].cardSuit;
                    let cardValue = cardStructure[7].row8[i].cardValue;
                    playedCards.push(cardValue + "_of_" + cardSuit);
                    let tempString = `<div class="layer${className++}"><img src="../images/${playedCards[playedCards.length-1]}.png" width="135" height="225" onclick="swapCards(this)" id="${i}"></div>`                    
                    document.getElementById(id).innerHTML += tempString;
                }
            }
            function createPlayingRow7(){
                let botRowHTML = document.getElementById("bottomRow");
                let length = cardStructure[8].row9.length;
                let id ='column7';
                let className = 1;
                document.getElementById("bottomRow").innerHTML += /*HTML*/ `<div class="Column" id="${id}"></div>`
                for(i = 0; i < length; i++){
                    let cardSuit = cardStructure[8].row9[i].cardSuit;
                    let cardValue = cardStructure[8].row9[i].cardValue;
                    playedCards.push(cardValue + "_of_" + cardSuit);
                    console.log(playedCards)
                    let tempString = `<div class="layer${className++}"><img src="../images/${playedCards[playedCards.length-1]}.png" width="135" height="225" onclick="swapCards(this)" id="${i}"></div>`                    
                    document.getElementById(id).innerHTML += tempString;
                }
            }

            // function createTopColumnsHTML(){

            //     let tempString;
            //     let index1 =+ 1;
            //     for(i = 0; i < 3; i++){
            //         getCurrentCard(i)
            //         playedCards.push(currentCard);
            //         tempString = `<div><div id="deckCard${i+1}"><img src="../images/${playedCards[i]}.png" width="135" height="225" onclick="swapCards(this)"></div></div>`                    
            //         document.getElementById("topRow").innerHTML += tempString;
            //     }
            //     count = 0;
            //     for(i = 0; i < 4; i++){
            //         getCurrentCard(i)
            //         playedCards.push(currentCard);
            //         tempString = `<div id="S${i+1}"><img class="Maindeck container" src="../images/BlankPlayingCard.png" width="185" height="265"></div>`                    
            //         document.getElementById("topRow").innerHTML += tempString;
            //     }
            //     count = 0;
            // }

            // function createBottomColumnsHTML(){
            //     let tempString;
            //     let index1 =+ 1;
            //     for(y = 0; y < 7; y++){
            //         let id ='column'+y;
            //         let className = 1;
            //         document.getElementById("bottomRow").innerHTML += /*HTML*/ `<div class="Column" id="${id}"></div>`
            //     for(i = 0; i < y; i++){
            //         tempString = `<div class="layer${className++}"><img src="../images/cardbackred.png" width="135" height="225" onclick="swapCards(this)"></div>`                    
            //         document.getElementById(id).innerHTML += tempString;
            //     }
            //     for(i = 0; i <= y; i++){
            //         if(className >= i+2){continue}
            //         getCurrentCard(0)
            //         playedCards.push(currentCard);
            //         tempString = `<div class="layer${className++}"><img src="../images/${playedCards[i]}.png" width="135" height="225" onclick="swapCards(this)" id="${i}"></div>`                    
            //         document.getElementById(id).innerHTML += tempString;
            //     }
            // }
            // }

            //Controller
            function swapCards(element){
                tempCard = element;
                console.log(element)
                
            }

            function getCurrentCard(index){
                count++;
                let rowNumber = 'row1';
                currentCard = cardStructure[0].row1[0].cardValue + '_of_' + cardStructure[0].row1[0].cardSuit;
            }
        </script>
        
    </body>

</html>